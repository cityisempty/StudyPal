# Cloudflare Workers 配置文件（仅当选择 Workers 部署时需要）
# 使用此文件前需要安装 Wrangler CLI: npm install -D wrangler
# NOTE: Cloudflare Pages 部署不需要此文件，仅 Workers 部署需要

name = "studypal"
type = "javascript"
account_id = "your-account-id"  # 替换为你的 Cloudflare Account ID
workers_dev = true
route = ""
pages_build_output_dir = ".next"

# 生产环境配置
[env.production]
name = "studypal-prod"
route = "example.com/*"  # 你的自定义域名（可选）
vars = { ENVIRONMENT = "production" }

# Staging 环境配置
[env.staging]
name = "studypal-staging"
vars = { ENVIRONMENT = "staging" }

# 构建输出配置
[build]
cwd = "."
command = "npm run build"
watch_paths = ["src/**/*.rs"]

# 开发服务器配置（可选）
[dev]
port = 3000
local_protocol = "http"

# Cloudflare KV 存储（可选：若要存储会话等）
# [[kv_namespaces]]
# binding = "SESSIONS"
# id = "your-kv-namespace-id"
# preview_id = "your-preview-id"

# D1 数据库（可选：若需要数据库）
# [[d1_databases]]
# binding = "DB"
# database_name = "studypal_db"
# database_id = "your-database-id"
